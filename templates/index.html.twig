{% extends "base.html.twig" %}

{% block body %}
  <div>
    <div class="container">
      <div class="row">
         <img class="logo" src="/oneminute/templates/images/logo/logo.webp"/>
      </div>
    </div>
    
      <div class="container">
        <div class="row" style="margin-bottom: 50px;">

          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
              <ul class="navbar-nav" style="flex-wrap: wrap; justify-content: space-between;">
               
                {% for category in categories %}

                  {% if category.IsActive and category.Level == 0 %}

                    <li class="nav-item {{ category.Categories != null ? 'dropdown' : '' }}">

                      <a class="nav-link {{ category.Categories != null ? 'dropdown-toggle' : '' }}" id="{{ category.id }}" href="{{ category.Categories != null ? '#' : path('category', {'id': category.id}) }}" {{ category.Categories != null ? 'data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"' : '' }}>
                        {{category.Name}}<span class="sr-only"></span>
                      </a>

                      {% if category.Categories != null %}

                        <div class="dropdown-menu" aria-labelledby="{{ category.id }}">
                        {% for categoryLv1 in category.Categories %}
                          <a class="dropdown-item" href="{{ path('category', {'id': categoryLv1.id}) }}">{{categoryLv1.Name}}<span class="sr-only"></span></a>  
                        {% endfor %}
                        </div>

                    {% endif %}
                    </li>

                  {% endif %}

                {% endfor %}
               
                
              </ul>
            </div>
          </nav>

        </div>
      </div>
    
      <div class="container">
        <div class="row justify-content-center">
        	<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
              <div class="carousel-item active">
                <img class="d-block img-fluid" src="/oneminute/templates/images/caroussel/bricolage.jpg" alt="First slide">
              </div>
              <div class="carousel-item">
                <img class="d-block img-fluid" src="/oneminute/templates/images/caroussel/jardinage.jpg" alt="Second slide">
              </div>
              <div class="carousel-item">
                <!--http://placehold.it/900x350-->
                <img class="d-block img-fluid" src="/oneminute/templates/images/caroussel/menage.jpg" alt="Third slide">
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="mt-10 row">
          <div class="w-100 text-center mb-20">
            <h4>Nos 10 dernières annonces :</h4>
          </div>
        </div>
      </div>

      <!--col-lg-10 ml-2-->
      <div class="container">
        <div class="row">
          <div class="row col-12 d-flex flex-row-reverse ml-3 ml-sm-n1">
        {% for announcement in announcements %}
          {% if announcement.IsActive %}

            <div class="col-lg-4 col-md-6 mb-4">
              <div class="card h-100">
                <!--http://placehold.it/700x400-->
                <a href="#"><img class="card-img-top" src="{{ announcement.image }}" alt=""></a>
                <div class="card-body">
                  <h4 class="card-title">
                    <a href="{{ path('announcement', {'id': announcement.id}) }}">{{announcement.Title}}</a>
                  </h4>
                  <h5>{{announcement.Price}}€</h5>
                  <p class="card-text">{{announcement.Description|length > 200 ? announcement.Description|slice(0, 200) ~ '...' : announcement.Description}}</p>
                </div>
                <div class="card-footer">
                  <small class="text-muted"></small>
                </div>
              </div>
            </div>

          {% endif %}
        {% endfor %}
          </div>
        </div>
      </div>

    </div>

    

{% endblock %}


